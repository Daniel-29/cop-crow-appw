!function(){"use strict";var e,n,t,r,o,i,a,s,u,l,c;function h(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,n,t){return n&&p(e.prototype,n),t&&p(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[1981],{37027:function(s,u,l){l.d(u,{F:function(){return S}});var c=l(50752),p=l(94402),v=l(40205),g=l(59193),k=l(15257),m=l(93342),_=l(5304),w=l(37716),y=l(94270),b=l(1400),S=function(){var s=function(){function s(e,n,t){d(this,s),this.apollo=e,this.supaBaseService=n,this._fuseConfirmationService=t,this.table="workshop_realization",this.tableMtM="workshop_realization_student",this.tableOtM="area_position",this.viewO="WorkshopRealizationStudentO",this.view="WorkshopRealizationStudentE"}return f(s,[{key:"get",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(0,p.D)(this.supaBaseService.onSelectRequest(this.view,t,r,"*",n)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(n,t){return e.errorHandle(n),g.E}))}},{key:"getO",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(0,p.D)(this.supaBaseService.onSelectRequest(this.viewO,t,r,"*",n)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(n,t){return e.errorHandle(n),g.E}))}},{key:"getFunctionView",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"searchinview",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.view;return(0,p.D)(this.supaBaseService.onSelectFuntionView(i,a,e,n,r,o)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,n){return t.errorHandle(e),g.E}))}},{key:"getFunctionViewO",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"searchinview",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.viewO;return(0,p.D)(this.supaBaseService.onSelectFuntionView(i,a,e,n,r,o)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,n){return t.errorHandle(e),g.E}))}},{key:"insert",value:function(e){var n=this;return(0,p.D)(this.supaBaseService.onInsertRequest(this.table,e)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,t){return n.errorHandle(e),g.E}))}},{key:"insertMtM",value:function(e){var n=this;return(0,p.D)(this.supaBaseService.onInsertRequest(this.tableMtM,e)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,t){return n.errorHandle(e),g.E}))}},{key:"update",value:function(e,n){var t=this;return(0,p.D)(this.supaBaseService.onUpdateRequest(this.table,n,e)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,n){return t.errorHandle(e),g.E}))}},{key:"delete",value:function(e){var n=this;return(0,p.D)(this.supaBaseService.onDeleteRequest(this.table,e)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,t){return n.errorHandle(e),g.E}))}},{key:"deleteMtM",value:function(e,n){var t=this;return(0,p.D)(this.supaBaseService.onDeleteMiddleTable(this.tableMtM,e,n)).pipe((0,k.q)(1),(0,m.b)(function(e){if(null!=e.error)throw(0,v._)(e.error)}),(0,_.K)(function(e,n){return t.errorHandle(e),g.E}))}},{key:"buildQuery",value:function(e){for(var n=[],t=0;t<e.length;t+=3)if("relation"==e[t+2])n.push("".concat(e[t],':{have:{name:{matchesRegex:"').concat(e[t+1],'"}}}'));else if("student"==e[t+2])n.push("".concat(e[t],':{have:{carnet:{matchesRegex:"').concat(e[t+1],'"}}}'));else if("date"==e[t+2]){var r=new Date((e[t+1]+"T00:00:00").toString()),o=new Date((e[t+1]+"T23:59:59").toString());n.push("".concat(e[t],':{greaterThanOrEqualTo:"').concat(r.toISOString(),'", lessThanOrEqualTo:"').concat(o.toISOString(),'" }'))}else n.push("".concat(e[t],':{matchesRegex:"').concat(e[t+1],'"}'));return"".concat(n.toString())}},{key:"getWorkShopRealization",value:function(n){var t=this;return this.apollo.watchQuery({query:c.Ps(e||(e=h(['\n        query workshop_realizations {\n          workshop_realizations(where:{id_workshop:{have:{id_category:{have:{name:{matchesRegex:"Empleabilidad"}}}, ',"}}, ","}) {\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n            }\n            edges {\n              node {\n                id\n                date\n                semester\n                id_workshop {\n                  edges {\n                    node {\n                      id\n                      name\n                      id_category{\n                        edges{\n                          node{\n                            id\n                            name\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ids_student {\n                  edges {\n                    node {\n                      id\n                      carnet\n                      first_name\n                      last_name\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        "])),n.includes("id_workshop")?n.substring(19,n.length-2):"",n.includes("id_workshop")?"":n),fetchPolicy:"network-only"}).valueChanges.pipe((0,k.q)(1),(0,_.K)(function(e,n){return t.errorHandle(e),g.E}))}},{key:"getWorkshops",value:function(){var e=this;return this.apollo.watchQuery({query:c.Ps(n||(n=h(['\n        query {\n          workshops(where:{id_category:{have:{name:{matchesRegex:"Empleabilidad"}}}}) {\n              pageInfo {\n              hasPreviousPage\n              hasNextPage\n              }\n              edges {\n              node {\n                  id\n                  name\n                  id_category{\n                  edges{\n                      node{\n                      id\n                      name\n                      }\n                  }\n                  }\n              }\n              }\n          }\n        }\n        ']))),fetchPolicy:"network-only"}).valueChanges.pipe((0,k.q)(1),(0,_.K)(function(n,t){return e.errorHandle(n),g.E}))}},{key:"getWorkShopRealizationO",value:function(e){var n=this;return this.apollo.watchQuery({query:c.Ps(t||(t=h(['\n        query workshop_realizations {\n          workshop_realizations(where:{id_workshop:{have:{id_category:{have:{name:{matchesRegex:"Orientacion Estudiantil"}}}, ',"}}, ","}) {\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n            }\n            edges {\n              node {\n                id\n                date\n                semester\n                id_workshop {\n                  edges {\n                    node {\n                      id\n                      name\n                      id_category{\n                        edges{\n                          node{\n                            id\n                            name\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n                ids_student {\n                  edges {\n                    node {\n                      id\n                      carnet\n                      first_name\n                      last_name\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        "])),e.includes("id_workshop")?e.substring(19,e.length-2):"",e.includes("id_workshop")?"":e),fetchPolicy:"network-only"}).valueChanges.pipe((0,k.q)(1),(0,_.K)(function(e,t){return n.errorHandle(e),g.E}))}},{key:"getWorkshopsO",value:function(){var e=this;return this.apollo.watchQuery({query:c.Ps(r||(r=h(['\n        query {\n          workshops(where:{id_category:{have:{name:{matchesRegex:"Orientacion Estudiantil"}}}}) {\n              pageInfo {\n              hasPreviousPage\n              hasNextPage\n              }\n              edges {\n              node {\n                  id\n                  name\n                  id_category{\n                  edges{\n                      node{\n                      id\n                      name\n                      }\n                  }\n                  }\n              }\n              }\n          }\n        }\n        ']))),fetchPolicy:"network-only"}).valueChanges.pipe((0,k.q)(1),(0,_.K)(function(n,t){return e.errorHandle(n),g.E}))}},{key:"onCreateWorkShopRealization",value:function(e,n,t,r){var i=this;return this.apollo.mutate({mutation:c.Ps(o||(o=h(["\n          mutation insertWorkshop_realization(\n            $date: Date!\n            $semester: String!\n            $id_workshop: WorkshopRelationInput!\n            $id_student: StudentRelationInput!\n          ) {\n            createWorkshop_realization(\n              input: {\n                fields: {\n                  date: $date\n                  semester: $semester\n                  id_workshop: $id_workshop\n                  ids_student: $id_student\n                }\n              }\n            ) {\n              workshop_realization {\n                id\n              }\n            }\n          }\n        "]))),variables:{date:e,semester:n,id_workshop:{add:t},id_student:{add:r}}}).pipe((0,k.q)(1),(0,m.b)(function(e){window.location.reload()}),(0,_.K)(function(e,n){return i.errorHandle(e),g.E}))}},{key:"onDeleteWorkShopRealization",value:function(e){var n=this;return this.apollo.mutate({mutation:c.Ps(i||(i=h(["\n          mutation deleteWorkshop_realization($id: ID!) {\n            deleteWorkshop_realization(input: { id: $id }) {\n              workshop_realization {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e}}).pipe((0,k.q)(1),(0,_.K)(function(e,t){return n.errorHandle(e),g.E}))}},{key:"onEditWorkShopRealization",value:function(e,n,t,r,o,i,s){var u=this;return this.apollo.mutate({mutation:c.Ps(a||(a=h(["\n          mutation updateWorkshop_realization(\n            $id: ID!\n            $date: Date!\n            $semester: String!\n            $id_workshop: WorkshopRelationInput!\n            $id_student: StudentRelationInput!\n          ) {\n            updateWorkshop_realization(\n              input: {\n                id: $id\n                fields: {\n                  date: $date\n                  semester: $semester\n                  id_workshop: $id_workshop\n                  ids_student: $id_student\n                }\n              }\n            ) {\n              workshop_realization {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e,date:n,semester:r,id_workshop:{remove:i,add:t},id_student:{remove:s,add:o}}}).pipe((0,k.q)(1),(0,_.K)(function(e,n){return u.errorHandle(e),g.E}))}},{key:"onSuccessDialog",value:function(e){this._fuseConfirmationService.open({title:"Alerta",message:"Se ".concat(e," el registro correctamente."),icon:{show:!0,name:"heroicons_outline:badge-check",color:"success"},actions:{confirm:{show:!1,label:"Si",color:"primary"},cancel:{show:!1,label:"No"}},dismissible:!0})}},{key:"errorHandle",value:function(e){return this._fuseConfirmationService.open({title:"Error",message:"Error insperado!!!",icon:{show:!0,name:"heroicons_outline:exclamation",color:"error"},actions:{confirm:{show:!1,label:"string",color:"primary"},cancel:{show:!1,label:"string"}},dismissible:!0}),(0,v._)("error")}}]),s}();return s.\u0275fac=function(e){return new(e||s)(w.LFG(c._M),w.LFG(y.P),w.LFG(b.R))},s.\u0275prov=w.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s}()},16141:function(e,n,t){t.d(n,{n:function(){return w}});var r=t(50752),o=t(94402),i=t(40205),a=t(59193),p=t(15257),v=t(93342),g=t(5304),k=t(37716),m=t(94270),_=t(1400),w=function(){var e=function(){function e(n,t,r){d(this,e),this.apollo=n,this.supaBaseService=t,this._fuseConfirmationService=r,this.table="workshop",this.tableOtM="category"}return f(e,[{key:"get",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(0,o.D)(this.supaBaseService.onSelectRequest(this.table,t,r,"id,name,updated_at,created_at,id_category!inner(*)",n)).pipe((0,p.q)(1),(0,v.b)(function(e){if(null!=e.error)throw(0,i._)(e.error)}),(0,g.K)(function(n,t){return e.errorHandle(n),a.E}))}},{key:"insert",value:function(e){var n=this;return(0,o.D)(this.supaBaseService.onInsertRequest(this.table,e)).pipe((0,p.q)(1),(0,v.b)(function(e){if(null!=e.error)throw(0,i._)(e.error)}),(0,g.K)(function(e,t){return n.errorHandle(e),a.E}))}},{key:"update",value:function(e,n){var t=this;return(0,o.D)(this.supaBaseService.onUpdateRequest(this.table,n,e)).pipe((0,p.q)(1),(0,v.b)(function(e){if(null!=e.error)throw(0,i._)(e.error)}),(0,g.K)(function(e,n){return t.errorHandle(e),a.E}))}},{key:"delete",value:function(e){var n=this;return(0,o.D)(this.supaBaseService.onDeleteRequest(this.table,e)).pipe((0,p.q)(1),(0,v.b)(function(e){if(null!=e.error)throw(0,i._)(e.error)}),(0,g.K)(function(e,t){return n.errorHandle(e),a.E}))}},{key:"getCategoriesWorkshop",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(0,o.D)(this.supaBaseService.onSelectRequest(this.tableOtM,t,r,"id,name,updated_at,created_at",n)).pipe((0,p.q)(1),(0,v.b)(function(e){if(null!=e.error)throw(0,i._)(e.error)}),(0,g.K)(function(n,t){return e.errorHandle(n),a.E}))}},{key:"buildQuery",value:function(e){for(var n=[],t=0;t<e.length;t+=3)n.push("relation"==e[t+2]?"".concat(e[t],':{have:{name:{matchesRegex:"').concat(e[t+1],'"}}}'):"".concat(e[t],':{matchesRegex:"').concat(e[t+1],'"}'));return"(where:{".concat(n.toString(),"})")}},{key:"getWorkshops",value:function(e){var n=this;return this.apollo.watchQuery({query:r.Ps(s||(s=h(["\n        query listWorkshops {\n          workshops"," {\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n            }\n            edges {\n              node {\n                id\n                name\n                id_category{\n                  edges{node{\n                    id\n                    name\n                  }}\n                }\n              }\n            }\n            count\n          }\n        }\n        "])),e),fetchPolicy:"network-only"}).valueChanges.pipe((0,p.q)(1),(0,g.K)(function(e,t){return n.errorHandle(e),a.E}))}},{key:"onCreateWorkshop",value:function(e,n){var t=this;return this.apollo.mutate({mutation:r.Ps(u||(u=h(["\n          mutation insertWorkshop(\n            $name: String!\n            $id_category: CategoryRelationInput!\n          ) {\n            createWorkshop(\n              input: {\n                fields: {\n                  name: $name\n                  id_category: $id_category\n                }\n              }\n            ) {\n              workshop {\n                id\n              }\n            }\n          }\n        "]))),variables:{name:e,id_category:{add:n}}}).pipe((0,p.q)(1),(0,g.K)(function(e,n){return t.errorHandle(e),a.E}))}},{key:"onDeleteWorkshop",value:function(e){var n=this;return this.apollo.mutate({mutation:r.Ps(l||(l=h(["\n          mutation deleteWorkshop($id: ID!) {\n            deleteWorkshop(input: { id: $id }) {\n              workshop {\n                name\n              }\n            }\n          }\n        "]))),variables:{id:e}}).pipe((0,p.q)(1),(0,g.K)(function(e,t){return n.errorHandle(e),a.E}))}},{key:"onEditWorkshop",value:function(e,n,t,o){var i=this;return this.apollo.mutate({mutation:r.Ps(c||(c=h(["\n          mutation updateWorkshop(\n            $id: ID!\n            $name: String!\n            $id_category: CategoryRelationInput!\n          ) {\n            updateWorkshop(\n              input: {\n                id: $id\n                fields: {\n                  name: $name\n                  id_category: $id_category\n                }\n              }\n            ) {\n              workshop {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e,name:n,id_category:{remove:o,add:t}}}).pipe((0,p.q)(1),(0,g.K)(function(e,n){return i.errorHandle(e),a.E}))}},{key:"onSuccessDialog",value:function(e){this._fuseConfirmationService.open({title:"Alerta",message:"Se ".concat(e," el registro correctamente."),icon:{show:!0,name:"heroicons_outline:badge-check",color:"success"},actions:{confirm:{show:!1,label:"Si",color:"primary"},cancel:{show:!1,label:"No"}},dismissible:!0})}},{key:"errorHandle",value:function(e){return this._fuseConfirmationService.open({title:"Error",message:"Error insperado!!!",icon:{show:!0,name:"heroicons_outline:exclamation",color:"error"},actions:{confirm:{show:!1,label:"string",color:"primary"},cancel:{show:!1,label:"string"}},dismissible:!0}),(0,i._)("error")}}]),e}();return e.\u0275fac=function(n){return new(n||e)(k.LFG(r._M),k.LFG(m.P),k.LFG(_.R))},e.\u0275prov=k.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();