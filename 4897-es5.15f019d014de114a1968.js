!function(){"use strict";var e,t,n,i,a;function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[4897],{44897:function(l,u,d){d.r(u),d.d(u,{ApplicationEmploymentModule:function(){return ve}});var c,p=d(38583),m=d(63423),g=d(3679),f=d(36063),h=d(51095),v=d(72458),_=d(43220),Z=d(1769),b=d(98295),y=d(76627),q=d(49983),w=d(67441),A=d(11494),x=d(65939),T=d(25553),k=d(82120),I=d(40334),S=d(17068),U=d(16738),D=d.n(U),F=d(611),N=d(15257),J=d(37716),Q=d(32489),$=d(1400),O=d(50752),E=d(94402),C=d(40205),Y=d(59193),L=d(93342),M=d(5304),R=d(94270),j=((c=function(){function l(e,t,n){o(this,l),this.apollo=e,this.supaBaseService=t,this._fuseConfirmationService=n,this.table="intenship_application"}return s(l,[{key:"get",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return t.push({field:"application_type",value:!0,type:"eq",subfield:null}),(0,E.D)(this.supaBaseService.onSelectRequest(this.table,n,i,"id,updated_at,created_at,feedback,start_date,survey_received1,survey_received2,end_date,status,survey_sent1,survey_sent2,application_type,id_student!inner(*),id_opportunity!inner(*)",t)).pipe((0,N.q)(1),(0,L.b)(function(e){if(null!=e.error)throw(0,C._)(e.error)}),(0,M.K)(function(t,n){return e.errorHandle(t),Y.E}))}},{key:"insert",value:function(e){var t=this;return(0,E.D)(this.supaBaseService.onInsertRequest(this.table,e)).pipe((0,N.q)(1),(0,L.b)(function(e){if(null!=e.error)throw(0,C._)(e.error)}),(0,M.K)(function(e,n){return t.errorHandle(e),Y.E}))}},{key:"update",value:function(e,t){var n=this;return(0,E.D)(this.supaBaseService.onUpdateRequest(this.table,t,e)).pipe((0,N.q)(1),(0,L.b)(function(e){if(null!=e.error)throw(0,C._)(e.error)}),(0,M.K)(function(e,t){return n.errorHandle(e),Y.E}))}},{key:"delete",value:function(e){var t=this;return(0,E.D)(this.supaBaseService.onDeleteRequest(this.table,e)).pipe((0,N.q)(1),(0,L.b)(function(e){if(null!=e.error)throw(0,C._)(e.error)}),(0,M.K)(function(e,n){return t.errorHandle(e),Y.E}))}},{key:"buildQuery",value:function(e){for(var t,n=[],i=0;i<e.length;i+=3)if("relation"==e[i+2])n.push("".concat(e[i],':{have:{name:{matchesRegex:"').concat(e[i+1],'"}}}'));else if("student"==e[i+2])n.push("".concat(e[i],':{have:{carnet:{matchesRegex:"').concat(e[i+1],'"}}}'));else if("bool"==e[i+2])t="Si"==e[i+1],n.push("".concat(e[i],":{equalTo:").concat(t,"}"));else if("date"==e[i+2]){var a=new Date((e[i+1]+"T00:00:00").toString()),r=new Date((e[i+1]+"T23:59:59").toString());n.push("".concat(e[i],':{greaterThanOrEqualTo:"').concat(a.toISOString(),'", lessThanOrEqualTo:"').concat(r.toISOString(),'" }'))}else n.push("".concat(e[i],':{matchesRegex:"').concat(e[i+1],'"}'));return"".concat(n.toString())}},{key:"getIntenshipApplications",value:function(t){var n=this;return this.apollo.watchQuery({query:O.Ps(e||(e=r(["\n          query intenship_applications {\n            intenship_applications(where:{application_type:{equalTo:false},","}) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                    id\n                    id_opportunity {\n                      edges {\n                        node {\n                          id\n                          name\n                          position\n                          available_spaces\n                        }\n                      }\n                    }\n                    id_student {\n                      edges {\n                        node {\n                          id\n                          carnet\n                          first_name\n                          last_name\n                        }\n                      }\n                    }\n\n                    feedback\n                    start_date\n                    end_date\n                    status\n                    survey_sent1\n                    survey_sent2\n                    survey_received1\n                    survey_received2\n                  }\n              }\n            }\n          }\n        "])),t),fetchPolicy:"network-only"}).valueChanges.pipe((0,N.q)(1),(0,M.K)(function(e,t){return n.errorHandle(e),Y.E}))}},{key:"getProgramType",value:function(){var e=this;return this.apollo.watchQuery({query:O.Ps(t||(t=r(["\n          query listProgramType {\n            program_types {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        "]))),fetchPolicy:"network-only"}).valueChanges.pipe((0,N.q)(1),(0,M.K)(function(t,n){return e.errorHandle(t),Y.E}))}},{key:"onCreateIntenshipApplications",value:function(e,t,i,a,o,l,s,u,d,c){var p=this;return this.apollo.mutate({mutation:O.Ps(n||(n=r(["\n          mutation createIntenship_application(\n            $feedback: String!\n            $start_date: Date!\n            $end_date: Date!\n            $status: Boolean!\n            $survey_sent1: Boolean!\n            $survey_sent2: Boolean!\n            $survey_received1: Boolean!\n            $survey_received2: Boolean!\n            $id_student: StudentRelationInput!\n            $id_opportunity: OpportunityRelationInput!\n          ) {\n            createIntenship_application(\n              input: {\n                fields: {\n                  feedback: $feedback\n                  start_date: $start_date\n                  end_date: $end_date\n                  status: $status\n                  survey_sent1: $survey_sent1\n                  survey_sent2: $survey_sent2\n                  survey_received1: $survey_received1\n                  survey_received2: $survey_received2\n                  id_student: $id_student\n                  id_opportunity: $id_opportunity\n                  application_type: false\n                }\n              }\n            ) {\n              intenship_application {\n                id\n              }\n            }\n          }\n        "]))),variables:{feedback:e,start_date:t,end_date:i,status:a,survey_sent1:o,survey_sent2:l,survey_received1:s,survey_received2:u,id_student:{add:d},id_opportunity:{add:c}}}).pipe((0,N.q)(1),(0,L.b)(function(e){window.location.reload()}),(0,M.K)(function(e,t){return p.errorHandle(e),Y.E}))}},{key:"onEditIntenshipApplications",value:function(e,t,n,a,o,l,s,u,d,c,p,m,g){var f=this;return this.apollo.mutate({mutation:O.Ps(i||(i=r(["\n          mutation updateIntenship_application(\n            $id: ID!\n            $feedback: String!\n            $start_date: Date!\n            $end_date: Date!\n            $status: Boolean!\n            $survey_sent1: Boolean!\n            $survey_sent2: Boolean!\n            $survey_received1: Boolean!\n            $survey_received2: Boolean!\n            $id_student: StudentRelationInput!\n            $id_opportunity: OpportunityRelationInput!\n          ) {\n            updateIntenship_application(\n              input: {\n                id: $id\n                fields: {\n                  feedback: $feedback\n                  start_date: $start_date\n                  end_date: $end_date\n                  status: $status\n                  survey_sent1: $survey_sent1\n                  survey_sent2: $survey_sent2\n                  survey_received1: $survey_received1\n                  survey_received2: $survey_received2\n                  id_student: $id_student\n                  id_opportunity: $id_opportunity\n                  application_type: false\n                }\n              }\n            ) {\n              intenship_application {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e,feedback:t,start_date:n,end_date:a,status:o,survey_sent1:l,survey_sent2:s,survey_received1:u,survey_received2:d,id_opportunity:{remove:m,add:p},id_student:{remove:g,add:c}}}).pipe((0,N.q)(1),(0,M.K)(function(e,t){return f.errorHandle(e),Y.E}))}},{key:"onDeleteIntenshipApplications",value:function(e){var t=this;return this.apollo.mutate({mutation:O.Ps(a||(a=r(["\n          mutation deleteIntenship_application($id: ID!) {\n            deleteIntenship_application(input: { id: $id }) {\n              intenship_application {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e}}).pipe((0,N.q)(1),(0,M.K)(function(e,n){return t.errorHandle(e),Y.E}))}},{key:"onSuccessDialog",value:function(e){this._fuseConfirmationService.open({title:"Alerta",message:"Se ".concat(e," el registro correctamente."),icon:{show:!0,name:"heroicons_outline:badge-check",color:"success"},actions:{confirm:{show:!1,label:"Si",color:"primary"},cancel:{show:!1,label:"No"}},dismissible:!0})}},{key:"errorHandle",value:function(e){return this._fuseConfirmationService.open({title:"Error",message:"Error insperado!!!",icon:{show:!0,name:"heroicons_outline:exclamation",color:"error"},actions:{confirm:{show:!1,label:"string",color:"primary"},cancel:{show:!1,label:"string"}},dismissible:!0}),(0,C._)("error")}}]),l}()).\u0275fac=function(e){return new(e||c)(J.LFG(O._M),J.LFG(R.P),J.LFG($.R))},c.\u0275prov=J.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c),z=d(60758),B=d(9685),P=d(22238),H=d(26927),V=d(86640),G=d(45396),K=d(99692);function X(e,t){if(1&e&&(J.TgZ(0,"div",68),J.TgZ(1,"div",69),J.TgZ(2,"div",70),J.TgZ(3,"h5",71),J._uU(4),J.qZA(),J.qZA(),J.qZA(),J.qZA()),2&e){var n=t.item,i=t.searchTerm;J.xp6(3),J.Q6J("ngOptionHighlight",i),J.xp6(1),J.AsE(" ",n.name," - ",n.position," ")}}function W(e,t){if(1&e&&(J.TgZ(0,"div",68),J.TgZ(1,"div",69),J.TgZ(2,"div",70),J.TgZ(3,"h5",71),J._uU(4),J.qZA(),J.qZA(),J.qZA(),J.qZA()),2&e){var n=t.item,i=t.searchTerm;J.xp6(3),J.Q6J("ngOptionHighlight",i),J.xp6(1),J.lnq(" ",n.carnet," - ",n.first_name," -",n.last_name," ")}}function ee(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function te(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function ne(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function ie(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function ae(e,t){if(1&e&&(J.ynx(0),J.TgZ(1,"mat-option",72),J._uU(2),J.qZA(),J.BQk()),2&e){var n=t.$implicit;J.xp6(1),J.Q6J("value",n),J.xp6(1),J.Oqu(n.label)}}function re(e,t){1&e&&(J.TgZ(0,"span"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function oe(e,t){if(1&e&&(J.ynx(0),J.TgZ(1,"th",55),J._uU(2),J.qZA(),J.BQk()),2&e){var n=t.$implicit;J.xp6(2),J.hij(" ",n.label," ")}}function le(e,t){if(1&e){var n=J.EpF();J.TgZ(0,"tr",73),J.TgZ(1,"td",74),J._uU(2),J.qZA(),J.TgZ(3,"td",74),J._uU(4),J.qZA(),J.TgZ(5,"td",75),J._uU(6),J.qZA(),J.TgZ(7,"td",74),J._uU(8),J.ALo(9,"date"),J.qZA(),J.TgZ(10,"td",74),J._uU(11),J.ALo(12,"date"),J.qZA(),J.TgZ(13,"td",74),J._uU(14),J.qZA(),J.TgZ(15,"td",74),J.TgZ(16,"div",76),J.TgZ(17,"button",77),J.NdJ("click",function(){var e=J.CHM(n).$implicit;return J.oxw().toggleDrawerOpen("leftDrawer",e)}),J.TgZ(18,"mat-icon",78),J.O4$(),J.TgZ(19,"svg",79),J._UZ(20,"path",80),J.qZA(),J.qZA(),J.kcU(),J._UZ(21,"span",81),J.qZA(),J.TgZ(22,"button",82),J.NdJ("click",function(){var e=J.CHM(n).$implicit;return J.oxw().onDeleteRegistry(e.id)}),J.TgZ(23,"mat-icon",83),J.O4$(),J.TgZ(24,"svg",79),J._UZ(25,"path",84),J.qZA(),J.qZA(),J.kcU(),J._UZ(26,"span",81),J.qZA(),J.TgZ(27,"button",77),J.NdJ("click",function(){var e=J.CHM(n).$implicit;return J.oxw().onShowRowDialog(e)}),J.TgZ(28,"mat-icon"),J._uU(29,"info"),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.qZA()}if(2&e){var i=t.$implicit;J.xp6(2),J.hij(" ",null!=i.id_opportunity?i.id_opportunity.name+" "+i.id_opportunity.position+" "+i.id_opportunity.available_spaces:""," "),J.xp6(2),J.hij(" ",null!=i.id_student?i.id_student.carnet+" "+i.id_student.first_name+" "+i.id_student.last_name:""," "),J.xp6(2),J.hij(" ",i.feedback," "),J.xp6(2),J.hij(" ",J.xi3(9,6,i.start_date,"yyyy-MM-dd")," "),J.xp6(3),J.hij(" ",J.xi3(12,9,i.end_date,"yyyy-MM-dd")," "),J.xp6(3),J.hij(" ",i.status?"Si":"No"," ")}}function se(e,t){if(1&e&&(J.TgZ(0,"div",68),J.TgZ(1,"div",69),J.TgZ(2,"div",70),J.TgZ(3,"h5",71),J._uU(4),J.qZA(),J.qZA(),J.qZA(),J.qZA()),2&e){var n=t.item,i=t.searchTerm;J.xp6(3),J.Q6J("ngOptionHighlight",i),J.xp6(1),J.AsE(" ",n.name," - ",n.position," ")}}function ue(e,t){if(1&e&&(J.TgZ(0,"div",68),J.TgZ(1,"div",69),J.TgZ(2,"div",70),J.TgZ(3,"h5",71),J._uU(4),J.qZA(),J.qZA(),J.qZA(),J.qZA()),2&e){var n=t.item,i=t.searchTerm;J.xp6(3),J.Q6J("ngOptionHighlight",i),J.xp6(1),J.lnq(" ",n.carnet," - ",n.first_name," -",n.last_name," ")}}function de(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function ce(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function pe(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}function me(e,t){1&e&&(J.TgZ(0,"mat-error"),J._uU(1,"Debe ingresar este campo!!"),J.qZA())}var ge=function(){var e=function(){function e(t,n,i,a,r,l,s){o(this,e),this._fuseDrawerService=t,this._fuseConfirmationService=n,this.employmentApplicationService=i,this.studentService=a,this.opportunityService=r,this.dialog=l,this.aRoute=s,this.years=[{name:"Primer a\xf1o",tableDisplay:"1ro",value:"1"},{name:"Segundo a\xf1o",tableDisplay:"2do",value:"2"},{name:"Tercero a\xf1o",tableDisplay:"3ro",value:"3"},{name:"Cuarto a\xf1o",tableDisplay:"4to",value:"4"},{name:"Quinto a\xf1o",tableDisplay:"5to",value:"5"},{name:"Graduado",tableDisplay:"Grad",value:"6"},{name:"Egresados",tableDisplay:"Egr",value:"7"}],this.fields=[{label:"Oportunidad empleo",field:"id_opportunity",type:"relation",searchable:!0,placeholder:"Selecione la oportunidad empleo"},{label:"Aplicacion estudiante",field:"id_student",type:"student",searchable:!0,placeholder:"Selecione al estudiante"},{label:"Retroalimentacion",field:"feedback",type:"field",searchable:!0,placeholder:"Ingrese el nombre de la opportunidad"},{label:"Fecha inicio",field:"start_date",type:"date",searchable:!0,placeholder:"Ingrese el nombre de la opportunidad"},{label:"Fecha fin",field:"end_date",type:"date",searchable:!0,placeholder:"Ingrese el nombre de la opportunidad"},{label:"Estado (Quedo o no)",field:"status",type:"bool",searchable:!0,placeholder:"Ingrese el nombre de la opportunidad"}],this.listRegistry=[],this.listStudent=[],this.listOpportunity=[],this.opportunity="",this.opportunityE="",this.student="",this.studentE="",this.newForm=new g.cw({feedback:new g.NI("",[]),start_date:new g.NI(new Date,[g.kI.minLength(3),g.kI.required]),end_date:new g.NI(new Date,[g.kI.minLength(3),g.kI.required]),status:new g.NI(!1,[g.kI.required]),survey_sent1:new g.NI(!1,[g.kI.required]),survey_sent2:new g.NI(!1,[g.kI.required]),survey_received1:new g.NI(!1,[g.kI.required]),survey_received2:new g.NI(!1,[g.kI.required]),id_opportunity:new g.NI(null,[g.kI.required]),id_student:new g.NI(null,[g.kI.required])}),this.searchForm=new g.cw({field:new g.NI(this.fields[0],[g.kI.minLength(1),g.kI.required]),value:new g.NI("",[g.kI.minLength(1),g.kI.required])}),this.editForm=new g.cw({id:new g.NI("",[g.kI.minLength(3),g.kI.required]),feedback:new g.NI("",[]),start_date:new g.NI(new Date,[g.kI.minLength(3),g.kI.required]),end_date:new g.NI(new Date,[g.kI.minLength(3),g.kI.required]),status:new g.NI(!1,[g.kI.required]),survey_sent1:new g.NI(!1,[g.kI.required]),survey_sent2:new g.NI(!1,[g.kI.required]),survey_received1:new g.NI(!1,[g.kI.required]),survey_received2:new g.NI(!1,[g.kI.required]),id_opportunity:new g.NI(null,[g.kI.required]),id_student:new g.NI(null,[g.kI.required])}),this.pagination={length:100,pageSize:10,pageIndex:0,pageSizeOptions:[5,10,25,50,100],showFirstLastButtons:!1};var u=[];this.aRoute.queryParams.pipe((0,N.q)(1)).subscribe(function(e){if(e&&e.opportunity){var t={field:"id_opportunity",value:Number(e.opportunity),type:"eq",subfield:"id"};u.push(t)}}),this.onLoadMainData(u),this.onLoadStudent(null),this.onLoadOpportunity(null)}return s(e,[{key:"handlePageEvent",value:function(e){this.pagination.length=e.length,this.pagination.pageSize=e.pageSize,this.pagination.pageIndex=e.pageIndex,this.onLoadMainData()}},{key:"onLoadMainData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.employmentApplicationService.get(t,this.pagination.pageSize*this.pagination.pageIndex,this.pagination.pageSize).subscribe(function(t){e.listRegistry=t.data})}},{key:"onSearchMainData",value:function(){var e=this;this.searchForm.valid&&this.opportunityService.get([{field:this.searchForm.controls.field.value.field,value:this.searchForm.controls.value.value,type:this.searchForm.controls.field.value.type,subfield:this.searchForm.controls.field.value.subfield}],this.pagination.pageSize*this.pagination.pageIndex,this.pagination.pageSize+1).subscribe(function(t){e.listRegistry=t.data})}},{key:"onLoadStudent",value:function(e){var t=this;if(null!=e){var n=e.term.split(" "),i={field:"first_name",value:null!=n[1]?n[1]:"",type:"",subfield:null},a={field:"last_name",value:null!=n[1]?n[1]:"",type:"",subfield:null};n.push({field:"carnet",value:null!=n[0]?n[0]:"",type:"",subfield:null}),n.push(i),n.push(a)}this.studentService.get([]).subscribe(function(e){t.listStudent=e.data})}},{key:"onLoadOpportunity",value:function(e){var t=this;if(null!=e){var n=e.term.split(" "),i={field:"position",value:null!=n[1]?n[1]:"",type:"",subfield:null};n.push({field:"name",value:null!=n[0]?n[0]:"",type:"",subfield:null}),n.push(i)}this.opportunityService.get([]).subscribe(function(e){t.listOpportunity=e.data})}},{key:"ngOnInit",value:function(){}},{key:"onShowRowDialog",value:function(e){this.dialog.open(F.A,{width:"610px",data:{row:e,fields:[["codigo","number",!1],["Ultima actualizacion","date",!0],["Creado","date",!0],["Retroalimentacion","string",!0],["Fecha inicio","date",!0],["Recibio encuesta 1","bool",!0],["Recibio encuesta 2","bool",!0],["Fecha fin","date",!0],["Estado (Quedo o no)","bool",!0],["Envio encuesta 1","bool",!0],["Envio encuesta 2","bool",!0],["Tipo de aplicacion","string",!1],["Estudiante","object",!0,"carnet","first_name","last_name"],["Oportunidad","object",!0,"name","position","type"]]}}).afterClosed().subscribe(function(e){})}},{key:"onEditRegistry",value:function(e){var t=this;if(this.editForm.valid){var n=this.editForm.getRawValue();n.start_date=D()(n.start_date).format("YYYY-MM-DD"),n.end_date=D()(n.start_date).format("YYYY-MM-DD");var i=n.id;delete n.id,this.employmentApplicationService.update(i,n).subscribe(function(n){t._fuseDrawerService.getComponent(e).toggle(),t.employmentApplicationService.onSuccessDialog("actualizo"),t.onLoadMainData()})}}},{key:"onNewRegistry",value:function(){var e=this;if(this.newForm.valid){var t=this.newForm.getRawValue();t.start_date=D()(t.start_date).format("YYYY-MM-DD"),t.end_date=D()(t.start_date).format("YYYY-MM-DD"),t.application_type=!0,this.employmentApplicationService.insert(t).subscribe(function(t){e.employmentApplicationService.onSuccessDialog("creo"),e.newForm.reset(),e.newForm.controls.status.setValue(!1),e.newForm.controls.survey_sent1.setValue(!1),e.newForm.controls.survey_sent2.setValue(!1),e.newForm.controls.survey_received1.setValue(!1),e.newForm.controls.survey_received2.setValue(!1),e.onLoadMainData()})}}},{key:"onDeleteRegistry",value:function(e){var t=this;this._fuseConfirmationService.open({title:"Alerta",message:"Desea eliminar este registro?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{show:!0,label:"Si",color:"primary"},cancel:{show:!0,label:"No"}},dismissible:!1}).afterClosed().subscribe(function(n){"confirmed"==n&&t.employmentApplicationService.delete(e).subscribe(function(e){t.onLoadMainData()})})}},{key:"onStudenDialogOppotunity",value:function(e){var t=this;this.dialog.open(I.e,{width:"1200px",disableClose:!0,data:{action:"select",type:e,opportunity:"new"==e?this.newForm.controls.id_opportunity.value:this.editForm.controls.id_opportunity.value}}).afterClosed().subscribe(function(n){switch(n.code){case"onSaveSelection":"new"==e?(t.opportunity=n.opportunity.name+", "+n.opportunity.position+", "+n.opportunity.type,t.newForm.controls.id_opportunity.setValue(n.opportunity.id)):(t.opportunityE=n.opportunity.name+", "+n.opportunity.position+", "+n.opportunity.type,t.editForm.controls.id_opportunity.setValue(n.opportunity.id));break;case"onSelectionCancel":"new"==e&&(t.opportunity="",t.newForm.controls.id_opportunity.setValue(null))}})}},{key:"onStudenDialogStudent",value:function(e){var t=this;this.dialog.open(S.o,{width:"1200px",disableClose:!0,data:{action:"select",type:e,student:"new"==e?this.newForm.controls.id_student.value:this.editForm.controls.id_student.value}}).afterClosed().subscribe(function(n){switch(n.code){case"onSaveSelection":"new"==e?(t.student=n.student.carnet+", "+n.student.first_name+", "+n.student.last_name,t.newForm.controls.id_student.setValue(n.student.id)):(t.studentE=n.student.carnet+", "+n.student.first_name+", "+n.student.last_name,t.editForm.controls.id_student.setValue(n.student.id));break;case"onSelectionCancel":"new"==e&&(t.student="",t.newForm.controls.id_student.setValue(null))}})}},{key:"toggleDrawerOpen",value:function(e,t){t&&(this.editForm.controls.id.setValue(t.id),this.editForm.controls.feedback.setValue(t.feedback),this.editForm.controls.start_date.setValue(t.start_date),this.editForm.controls.end_date.setValue(t.end_date),this.editForm.controls.status.setValue(t.status),this.editForm.controls.id_opportunity.setValue(t.id_opportunity.id),this.editForm.controls.id_student.setValue(t.id_student.id)),this._fuseDrawerService.getComponent(e).toggle()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(J.Y36(Q._),J.Y36($.R),J.Y36(j),J.Y36(z.q),J.Y36(B.E),J.Y36(P.uw),J.Y36(m.gz))},e.\u0275cmp=J.Xpm({type:e,selectors:[["app-application-employment"]],decls:160,vars:76,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex-auto","pt-6","sm:px-4","sm:pb-4","relative","flex","overflow-hidden"],[1,"w-3/5","make-drawer-content-scrollable",3,"name","opened","mode"],[1,"flex","justify-center","h-400","min-h-400","max-h-400","border-2","border-dashed","border-gray-300","p-6"],[1,"ng-untouched","ng-pristine","ng-valid",3,"formGroup"],[1,"flex","flex-col","mt-2","bg-card","shadow","rounded"],[1,"p-8","bg-gray-50","dark:bg-gray-700"],[1,"text-lg","font-medium"],[1,"text-secondary"],["role","separator","aria-orientation","horizontal",1,"mat-divider","mat-divider-horizontal"],[1,"mt-4","p-2","pb-2"],["appearance","outline","bindLabel","name","bindValue","id","formControlName","id_opportunity",1,"mt-2",3,"items","multiple","closeOnSelect","hideSelected","placeholder","search"],["ng-option-tmp",""],["appearance","outline","bindLabel","carnet","bindValue","id","formControlName","id_student",1,"mt-2",3,"items","multiple","closeOnSelect","hideSelected","placeholder","search"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","formControlName","feedback",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","start_date",3,"matDatepicker","placeholder"],["matSuffix","",3,"for"],["start_dateE",""],["matInput","","formControlName","end_date",3,"matDatepicker","placeholder"],["end_dateE",""],[1,"flex","items-center","justify-between"],[1,"flex-auto","leading-6","cursor-pointer",3,"click"],["formControlName","status",1,"ml-2",3,"color"],["status",""],[1,"flex","items-center","justify-end","mt-10"],["mat-button","",1,"mat-focus-indicator","mat-button","mat-button-base",3,"click"],[1,"mat-button-wrapper"],["matripple","","ng-reflect-disabled","false","ng-reflect-centered","false","ng-reflect-trigger","[object HTMLButtonElement]",1,"mat-ripple","mat-button-ripple"],[1,"mat-button-focus-overlay"],["mat-flat-button","","ng-reflect-color","primary",1,"mat-focus-indicator","px-6","ml-3","mat-flat-button","mat-button-base","mat-primary"],["type","submit",1,"mat-button-wrapper",3,"click"],[1,"w-full","h-full",3,"animationDuration"],["label","Ver registros"],[1,"h-full","w-full","min-w-0","ng-star-inserted"],[1,"flex","flex-col","sm:flex-row","w-full","sm:max-w-none","mb-4",3,"formGroup"],["mat-stroked-button","",1,"h-full","mt-1","sm:mr-4",3,"click"],[1,"items-center","h-full"],[1,"fuse-mat-no-subscript","w-full","sm:w-1/5"],["formControlName","field"],[4,"ngFor","ngForOf"],[1,"fuse-mat-no-subscript","w-full","sm:w-3/6","mt-4","sm:mt-0","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["placeholder","Search by title or description","matInput","","formControlName","value"],["mat-stroked-button","",1,"h-full","mt-1","sm:ml-4",3,"click"],[1,"min-w-full","text-center"],[1,"border-b","bg-gray-800"],["scope","col",1,"text-sm","font-medium","text-white","px-6","py-4"],["class","bg-white border-b hover:bg-gray-300",4,"ngFor","ngForOf"],[1,"mt-14"],["aria-label","Select page",1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex","page"],["label","Agregar"],[1,"px-4","w-full","border-2","border-dashed","border-gray-300","rounded-2xl"],[1,"flex","flex-col","mt-8","bg-card","shadow","rounded","overflow-hidden"],[1,"mt-8","p-8","pb-4"],["start_dateN",""],["end_dateN",""],["submit","none","mat-button","",1,"mat-focus-indicator","mat-button","mat-button-base"],["mat-flat-button","","ng-reflect-color","primary",1,"mat-focus-indicator","px-6","ml-3","mat-flat-button","mat-button-base","mat-primary",3,"click"],["type","none",1,"mat-button-wrapper"],[1,"my-2","py-4","px-5","rounded-lg","bg-gray-200","dark:bg-gray-800"],[1,"card"],[1,"card-body"],[1,"card-title","text-2xl","font-semibold","leading-tight",3,"ngOptionHighlight"],[3,"value"],[1,"bg-white","border-b","hover:bg-gray-300"],[1,"text-sm","text-gray-900","font-light","whitespace-nowrap"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"flex","items-center","w-full"],[1,"flex","flex-auto","items-center","justify-center","py-4","hover:bg-amber-500",3,"click"],["role","img","aria-hidden","true","data-mat-icon-type","svg","data-mat-icon-name","mail","data-mat-icon-namespace","heroicons_solid",1,"mat-icon","notranslate","icon-size-5","mat-icon-no-color"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"ml-2"],[1,"flex","flex-auto","items-center","justify-center","py-4","hover:bg-red-500",3,"click"],["role","img","aria-hidden","true","data-mat-icon-type","svg","data-mat-icon-name","phone","data-mat-icon-namespace","heroicons_solid",1,"mat-icon","notranslate","icon-size-5","mat-icon-no-color"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(e,t){if(1&e){var n=J.EpF();J.TgZ(0,"div",0),J.TgZ(1,"div",1),J.TgZ(2,"div",2),J.TgZ(3,"div",3),J.TgZ(4,"div"),J.TgZ(5,"a",4),J._uU(6,"Empleabilidad"),J.qZA(),J.qZA(),J.qZA(),J.TgZ(7,"div",5),J.TgZ(8,"h2",6),J._uU(9," Administracion de aplicaciones empleos "),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.TgZ(10,"div",7),J.TgZ(11,"fuse-drawer",8),J.TgZ(12,"div",9),J.TgZ(13,"form",10),J.TgZ(14,"div",11),J.TgZ(15,"div",12),J.TgZ(16,"p",13),J._uU(17," Formulario de modificaci\xf3n de una aplicacion a empleo "),J.qZA(),J.TgZ(18,"p",14),J._uU(19,"Rellene los campos a continuacion."),J.qZA(),J.qZA(),J._UZ(20,"mat-divider",15),J.TgZ(21,"div",16),J.ynx(22),J.TgZ(23,"mat-label"),J._uU(24),J.qZA(),J.TgZ(25,"ng-select",17),J.NdJ("search",function(e){return t.onLoadOpportunity(e)}),J.YNc(26,X,5,3,"ng-template",18),J.qZA(),J.TgZ(27,"mat-label"),J._uU(28),J.qZA(),J.TgZ(29,"ng-select",19),J.NdJ("search",function(e){return t.onLoadStudent(e)}),J.YNc(30,W,5,4,"ng-template",18),J.qZA(),J.TgZ(31,"mat-form-field",20),J.TgZ(32,"mat-label"),J._uU(33),J.qZA(),J._UZ(34,"mat-icon",21),J._UZ(35,"input",22),J.qZA(),J.YNc(36,ee,2,0,"mat-error",23),J.TgZ(37,"mat-form-field",20),J.TgZ(38,"mat-label"),J._uU(39),J.qZA(),J._UZ(40,"input",24),J._UZ(41,"mat-datepicker-toggle",25),J._UZ(42,"mat-datepicker",null,26),J.qZA(),J.YNc(44,te,2,0,"mat-error",23),J.TgZ(45,"mat-form-field",20),J.TgZ(46,"mat-label"),J._uU(47),J.qZA(),J._UZ(48,"input",27),J._UZ(49,"mat-datepicker-toggle",25),J._UZ(50,"mat-datepicker",null,28),J.qZA(),J.YNc(52,ne,2,0,"mat-error",23),J.TgZ(53,"div",29),J.TgZ(54,"div",30),J.NdJ("click",function(){return J.CHM(n),J.MAs(57).toggle()}),J._uU(55),J.qZA(),J._UZ(56,"mat-slide-toggle",31,32),J.YNc(58,ie,2,0,"mat-error",23),J.qZA(),J.BQk(),J.qZA(),J.qZA(),J.TgZ(59,"div",33),J.TgZ(60,"button",34),J.NdJ("click",function(){return t.toggleDrawerOpen("leftDrawer")}),J.TgZ(61,"span",35),J._uU(62," Cancelar "),J.qZA(),J._UZ(63,"span",36),J._UZ(64,"span",37),J.qZA(),J.TgZ(65,"button",38),J.TgZ(66,"button",39),J.NdJ("click",function(){return t.onEditRegistry("leftDrawer")}),J._uU(67," Guardar"),J.qZA(),J._UZ(68,"span",36),J._UZ(69,"span",37),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.TgZ(70,"mat-tab-group",40),J.TgZ(71,"mat-tab",41),J.TgZ(72,"div",42),J.TgZ(73,"form",43),J.TgZ(74,"button",44),J.NdJ("click",function(){return t.onLoadMainData()}),J.TgZ(75,"span",45),J.TgZ(76,"span"),J._uU(77,"Reset"),J.qZA(),J.qZA(),J.qZA(),J.TgZ(78,"mat-form-field",46),J.TgZ(79,"mat-select",47),J.YNc(80,ae,3,2,"ng-container",48),J.qZA(),J.qZA(),J.TgZ(81,"mat-form-field",49),J._UZ(82,"mat-icon",50),J._UZ(83,"input",51),J.TgZ(84,"mat-error"),J.YNc(85,re,2,0,"span",23),J.qZA(),J.qZA(),J.TgZ(86,"button",52),J.NdJ("click",function(){return t.onSearchMainData()}),J.TgZ(87,"span",45),J.TgZ(88,"span"),J._uU(89,"Buscar"),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.ynx(90),J.TgZ(91,"table",53),J.TgZ(92,"thead",54),J.TgZ(93,"tr"),J.YNc(94,oe,3,1,"ng-container",48),J.TgZ(95,"th",55),J._uU(96," Acciones "),J.qZA(),J.qZA(),J.qZA(),J.TgZ(97,"tbody"),J.YNc(98,le,30,12,"tr",56),J.qZA(),J.qZA(),J.TgZ(99,"div",57),J.TgZ(100,"mat-paginator",58),J.NdJ("page",function(e){return t.handlePageEvent(e)}),J.qZA(),J.qZA(),J.BQk(),J.qZA(),J.qZA(),J.TgZ(101,"mat-tab",59),J.TgZ(102,"div",60),J.TgZ(103,"form",10),J.TgZ(104,"div",61),J.TgZ(105,"div",12),J.TgZ(106,"p",13),J._uU(107," Formulario de registro de una aplicacion a empleo "),J.qZA(),J.TgZ(108,"p",14),J._uU(109,"Rellene los campos a continuacion."),J.qZA(),J.qZA(),J._UZ(110,"mat-divider",15),J.TgZ(111,"div",62),J.ynx(112),J.TgZ(113,"mat-label"),J._uU(114),J.qZA(),J.TgZ(115,"ng-select",17),J.NdJ("search",function(e){return t.onLoadOpportunity(e)}),J.YNc(116,se,5,3,"ng-template",18),J.qZA(),J.TgZ(117,"mat-label"),J._uU(118),J.qZA(),J.TgZ(119,"ng-select",19),J.NdJ("search",function(e){return t.onLoadStudent(e)}),J.YNc(120,ue,5,4,"ng-template",18),J.qZA(),J.TgZ(121,"mat-form-field",20),J.TgZ(122,"mat-label"),J._uU(123),J.qZA(),J._UZ(124,"mat-icon",21),J._UZ(125,"input",22),J.qZA(),J.YNc(126,de,2,0,"mat-error",23),J.TgZ(127,"mat-form-field",20),J.TgZ(128,"mat-label"),J._uU(129),J.qZA(),J._UZ(130,"input",24),J._UZ(131,"mat-datepicker-toggle",25),J._UZ(132,"mat-datepicker",null,63),J.qZA(),J.YNc(134,ce,2,0,"mat-error",23),J.TgZ(135,"mat-form-field",20),J.TgZ(136,"mat-label"),J._uU(137),J.qZA(),J._UZ(138,"input",27),J._UZ(139,"mat-datepicker-toggle",25),J._UZ(140,"mat-datepicker",null,64),J.qZA(),J.YNc(142,pe,2,0,"mat-error",23),J.TgZ(143,"div",29),J.TgZ(144,"div",30),J.NdJ("click",function(){return J.CHM(n),J.MAs(57).toggle()}),J._uU(145),J.qZA(),J._UZ(146,"mat-slide-toggle",31,32),J.YNc(148,me,2,0,"mat-error",23),J.qZA(),J.BQk(),J.qZA(),J.qZA(),J.TgZ(149,"div",33),J.TgZ(150,"a",65),J.TgZ(151,"span",35),J._uU(152," Cancelar "),J.qZA(),J._UZ(153,"span",36),J._UZ(154,"span",37),J.qZA(),J.TgZ(155,"button",66),J.NdJ("click",function(){return t.onNewRegistry()}),J.TgZ(156,"span",67),J._uU(157,"Agregar"),J.qZA(),J._UZ(158,"span",36),J._UZ(159,"span",37),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.qZA(),J.qZA()}if(2&e){var i=J.MAs(43),a=J.MAs(51),r=J.MAs(133),o=J.MAs(141);J.xp6(11),J.Q6J("name","leftDrawer")("opened",!1)("mode","side"),J.xp6(2),J.Q6J("formGroup",t.editForm),J.xp6(11),J.hij("",null==t.fields[0]?null:t.fields[0].label,":"),J.xp6(1),J.Q6J("items",t.listOpportunity)("multiple",!1)("closeOnSelect",!0)("hideSelected",!1)("placeholder",null==t.fields[0]?null:t.fields[0].placeholder),J.xp6(3),J.hij("",null==t.fields[1]?null:t.fields[1].label,":"),J.xp6(1),J.Q6J("items",t.listStudent)("multiple",!1)("closeOnSelect",!0)("hideSelected",!1)("placeholder",null==t.fields[1]?null:t.fields[1].placeholder),J.xp6(4),J.hij("",null==t.fields[2]?null:t.fields[2].label,":"),J.xp6(1),J.Q6J("svgIcon","heroicons_solid:briefcase"),J.xp6(1),J.Q6J("placeholder",null==t.fields[1]?null:t.fields[1].placeholder),J.xp6(1),J.Q6J("ngIf",t.editForm.get("feedback").hasError("required")&&t.editForm.get("feedback").touched),J.xp6(3),J.hij("",null==t.fields[3]?null:t.fields[3].label,":"),J.xp6(1),J.Q6J("matDatepicker",i)("placeholder",null==t.fields[3]?null:t.fields[3].placeholder),J.xp6(1),J.Q6J("for",i),J.xp6(3),J.Q6J("ngIf",t.editForm.get("start_date").hasError("required")&&t.editForm.get("start_date").touched),J.xp6(3),J.hij("",null==t.fields[4]?null:t.fields[4].label,":"),J.xp6(1),J.Q6J("matDatepicker",a)("placeholder",null==t.fields[4]?null:t.fields[4].placeholder),J.xp6(1),J.Q6J("for",a),J.xp6(3),J.Q6J("ngIf",t.editForm.get("end_date").hasError("required")&&t.editForm.get("end_date").touched),J.xp6(3),J.hij(" ",null==t.fields[5]?null:t.fields[5].label," "),J.xp6(1),J.Q6J("color","primary"),J.xp6(2),J.Q6J("ngIf",t.editForm.get("status").hasError("required")&&t.editForm.get("status").touched),J.xp6(12),J.Q6J("animationDuration","0"),J.xp6(3),J.Q6J("formGroup",t.searchForm),J.xp6(7),J.Q6J("ngForOf",t.fields),J.xp6(1),J.Q6J("floatLabel","always"),J.xp6(1),J.Q6J("svgIcon","heroicons_solid:search"),J.xp6(3),J.Q6J("ngIf",t.searchForm.get("value").hasError("required")&&t.searchForm.get("value").touched),J.xp6(9),J.Q6J("ngForOf",t.fields),J.xp6(4),J.Q6J("ngForOf",t.listRegistry),J.xp6(2),J.Q6J("length",t.pagination.length)("pageSize",t.pagination.pageSize)("showFirstLastButtons",t.pagination.showFirstLastButtons)("pageSizeOptions",t.pagination.pageSizeOptions)("pageIndex",t.pagination.pageIndex),J.xp6(3),J.Q6J("formGroup",t.newForm),J.xp6(11),J.hij("",null==t.fields[0]?null:t.fields[0].label,":"),J.xp6(1),J.Q6J("items",t.listOpportunity)("multiple",!1)("closeOnSelect",!0)("hideSelected",!1)("placeholder",null==t.fields[0]?null:t.fields[0].placeholder),J.xp6(3),J.hij("",null==t.fields[1]?null:t.fields[1].label,":"),J.xp6(1),J.Q6J("items",t.listStudent)("multiple",!1)("closeOnSelect",!0)("hideSelected",!1)("placeholder",null==t.fields[1]?null:t.fields[1].placeholder),J.xp6(4),J.hij("",null==t.fields[2]?null:t.fields[2].label,":"),J.xp6(1),J.Q6J("svgIcon","heroicons_solid:briefcase"),J.xp6(1),J.Q6J("placeholder",null==t.fields[1]?null:t.fields[1].placeholder),J.xp6(1),J.Q6J("ngIf",t.newForm.get("feedback").hasError("required")&&t.newForm.get("feedback").touched),J.xp6(3),J.hij("",null==t.fields[3]?null:t.fields[3].label,":"),J.xp6(1),J.Q6J("matDatepicker",r)("placeholder",null==t.fields[3]?null:t.fields[3].placeholder),J.xp6(1),J.Q6J("for",r),J.xp6(3),J.Q6J("ngIf",t.newForm.get("start_date").hasError("required")&&t.newForm.get("start_date").touched),J.xp6(3),J.hij("",null==t.fields[4]?null:t.fields[4].label,":"),J.xp6(1),J.Q6J("matDatepicker",o)("placeholder",null==t.fields[4]?null:t.fields[4].placeholder),J.xp6(1),J.Q6J("for",o),J.xp6(3),J.Q6J("ngIf",t.newForm.get("end_date").hasError("required")&&t.newForm.get("end_date").touched),J.xp6(3),J.hij(" ",null==t.fields[5]?null:t.fields[5].label," "),J.xp6(1),J.Q6J("color","primary"),J.xp6(2),J.Q6J("ngIf",t.newForm.get("status").hasError("required")&&t.newForm.get("status").touched)}},directives:[H.F,g._Y,g.JL,g.sg,Z.d,b.hX,V.w9,g.JJ,g.u,V.Z2,b.KE,y.Hw,b.qo,q.Nt,g.Fj,p.O5,_.hl,_.nW,b.R9,_.Mq,G.Rr,h.lW,x.SP,x.uX,w.gD,p.sg,b.TO,K.NW,h.zs,v.ey],pipes:[p.uU],styles:[""]}),e}(),fe=d(3937),he=[{path:"",component:ge}],ve=function(){var e=s(function e(){o(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=J.oAB({type:e}),e.\u0275inj=J.cJS({providers:[{provide:v._A,useClass:f.t7,deps:[v.Ad]},{provide:v.sG,useValue:f.$o}],imports:[[p.ez,m.Bz.forChild(he),T.J,y.Ps,x.Nh,Z.t,b.lN,q.c,k.k,w.LD,g.UX,g.u5,A.JX,h.ot,_.FA,G.rP,fe.c,V.A0,K.TU]]}),e}()}}])}();