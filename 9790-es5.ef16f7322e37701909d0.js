!function(){"use strict";var e,t,n,r;function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[9790],{36063:function(e,t,n){n.d(t,{$o:function(){return v},t7:function(){return _}});var r=n(37716),o=n(72458),i=n(16738),l=n.n(i)()||i,d=new r.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function y(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t(r);return n}var h,_=((h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(n,e);var t=p(n);function n(e,r){var o;return a(this,n),(o=t.call(this))._options=r,o.setLocale(e||l.locale()),o}return s(n,[{key:"setLocale",value:function(e){var t=this;u(f(n.prototype),"setLocale",this).call(this,e);var r=l.localeData(e);this._localeData={firstDayOfWeek:r.firstDayOfWeek(),longMonths:r.months(),shortMonths:r.monthsShort(),dates:y(31,function(e){return t.createDate(2017,0,e+1).format("D")}),longDaysOfWeek:r.weekdays(),shortDaysOfWeek:r.weekdaysShort(),narrowDaysOfWeek:r.weekdaysMin()}}},{key:"getYear",value:function(e){return this.clone(e).year()}},{key:"getMonth",value:function(e){return this.clone(e).month()}},{key:"getDate",value:function(e){return this.clone(e).date()}},{key:"getDayOfWeek",value:function(e){return this.clone(e).day()}},{key:"getMonthNames",value:function(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(e){return this.clone(e).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(e){return this.clone(e).daysInMonth()}},{key:"clone",value:function(e){return e.clone().locale(this.locale)}},{key:"createDate",value:function(e,t,n){var r=this._createMoment({year:e,month:t,date:n}).locale(this.locale);return r.isValid(),r}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(e,t){return e&&"string"==typeof e?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}},{key:"format",value:function(e,t){return e=this.clone(e),this.isValid(e),e.format(t)}},{key:"addCalendarYears",value:function(e,t){return this.clone(e).add({years:t})}},{key:"addCalendarMonths",value:function(e,t){return this.clone(e).add({months:t})}},{key:"addCalendarDays",value:function(e,t){return this.clone(e).add({days:t})}},{key:"toIso8601",value:function(e){return this.clone(e).format()}},{key:"deserialize",value:function(e){var t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;t=this._createMoment(e,l.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):u(f(n.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return l.isMoment(e)}},{key:"isValid",value:function(e){return this.clone(e).isValid()}},{key:"invalid",value:function(){return l.invalid()}},{key:"_createMoment",value:function(e,t,n){var r=this._options||{},o=r.strict;return r.useUtc?l.utc(e,t,n,o):l(e,t,n,o)}}]),n}(o._A)).\u0275fac=function(e){return new(e||h)(r.LFG(o.Ad,8),r.LFG(d,8))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h),v={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},3937:function(e,t,n){n.d(t,{c:function(){return v}});var r,o=n(51095),i=n(76627),u=n(67441),l=n(98295),c=n(38583),p=n(22238),d=n(3679),f=n(49983),y=n(25553),h=n(44466),_=n(37716),v=((r=s(function e(){a(this,e)})).\u0275fac=function(e){return new(e||r)},r.\u0275mod=_.oAB({type:r}),r.\u0275inj=_.cJS({imports:[[c.ez,p.Is,d.u5,d.UX,l.lN,f.c,u.LD,i.Ps,o.ot,i.Ps,y.J,h.m]]}),r)},14187:function(i,u,l){l.d(u,{x:function(){return k}});var c,p=l(93342),d=l(50752),f=l(94402),y=l(40205),h=l(59193),_=l(15257),v=l(5304),g=l(37716),m=l(94270),b=l(1400),k=((c=function(){function i(e,t,n){a(this,i),this.apollo=e,this.supaBaseService=t,this._fuseConfirmationService=n,this.table="opportunity",this.tableMtM="opportunity_degree",this.tableOtM="area_position",this.view="OpportunityDegreesStudentE"}return s(i,[{key:"get",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o||t.push({field:"opportunity_type",value:!1,type:"eq",subfield:null}),(0,f.D)(this.supaBaseService.onSelectRequest(this.view,n,r,"*",t)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(t,n){return e.errorHandle(t),h.E}))}},{key:"getFunctionView",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"opportunity_type",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"false",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"searchinview",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.view;return(0,f.D)(this.supaBaseService.onSelectFuntionView(a,i,e,t,r,o)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(e,t){return n.errorHandle(e),h.E}))}},{key:"insert",value:function(e){var t=this;return(0,f.D)(this.supaBaseService.onInsertRequest(this.table,e)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(e,n){return t.errorHandle(e),h.E}))}},{key:"insertMtM",value:function(e){var t=this;return(0,f.D)(this.supaBaseService.onInsertRequest(this.tableMtM,e)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(e,n){return t.errorHandle(e),h.E}))}},{key:"update",value:function(e,t){var n=this;return(0,f.D)(this.supaBaseService.onUpdateRequest(this.table,t,e)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(e,t){return n.errorHandle(e),h.E}))}},{key:"delete",value:function(e){var t=this;return(0,f.D)(this.supaBaseService.onDeleteRequest(this.table,e)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(e,n){return t.errorHandle(e),h.E}))}},{key:"deleteMtM",value:function(e,t){var n=this;return(0,f.D)(this.supaBaseService.onDeleteMiddleTable(this.tableMtM,e,t)).pipe((0,_.q)(1),(0,p.b)(function(e){if(null!=e.error)throw(0,y._)(e.error)}),(0,v.K)(function(e,t){return n.errorHandle(e),h.E}))}},{key:"getAreaPositions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(0,f.D)(this.supaBaseService.onSelectRequest(this.tableOtM,n,r,"*",t)).pipe((0,_.q)(1),(0,v.K)(function(t,n){return e.errorHandle(t),h.E}))}},{key:"buildQuery",value:function(e){for(var t,n=[],r=0;r<e.length;r+=3)if("relation"==e[r+2])n.push("".concat(e[r],':{have:{name:{matchesRegex:"').concat(e[r+1],'"}}}'));else if("bool"==e[r+2])t="Si"==e[r+1]||"Concluido"==e[r+1],n.push("".concat(e[r],":{equalTo:").concat(t,"}"));else if("number"==e[r+2])t="Si"==e[r+1],n.push("".concat(e[r],":{equalTo:").concat(e[r+1],"}"));else if("date"==e[r+2]){var o=new Date((e[r+1]+"T00:00:00").toString()),a=new Date((e[r+1]+"T23:59:59").toString());n.push("".concat(e[r],':{greaterThanOrEqualTo:"').concat(o.toISOString(),'", lessThanOrEqualTo:"').concat(a.toISOString(),'" }'))}else n.push("".concat(e[r],':{matchesRegex:"').concat(e[r+1],'"}'));return"".concat(n.toString())}},{key:"getOpportunities",value:function(t){var n=this;return this.apollo.watchQuery({query:d.Ps(e||(e=o(["\n          query opportunities {\n            opportunities(where:{opportunity_type:{equalTo:false},","}) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                  id\n                  name\n                  position\n                  available_spaces\n                  type\n                  createdAt\n                  start_date\n                  end_date\n                  end_process\n                  student_selected\n                  opportunity_type\n                  years\n                  id_company {\n                    edges {\n                      node {\n                        id\n                        code\n                        name\n                        contact\n                      }\n                    }\n                    count\n                  }\n\n                  id_degree {\n                    edges {\n                      node {\n                        id\n                        name\n                      }\n                    }\n                    count\n                  }\n                  id_area_position {\n                    edges {\n                      node {\n                        id\n                        name\n                      }\n                    }\n                    count\n                  }\n                }\n              }\n              count\n            }\n          }\n        "])),t),fetchPolicy:"network-only"}).valueChanges.pipe((0,_.q)(1),(0,v.K)(function(e,t){return n.errorHandle(e),h.E}))}},{key:"oncreateOpportunity",value:function(e,n,r,a,i,s,u,l,c,p,f,y,g){var m=this,b=[];return f.map(function(e){b.push('add: "'.concat(e,'" '))}),b.toString(),this.apollo.mutate({mutation:d.Ps(t||(t=o(["\n          mutation createOpportunity(\n            $name: String!\n            $position: String!\n            $available_spaces: Float!\n            $type: String!\n            $start_date: Date!\n            $end_date: Date!\n            $end_process: Boolean!\n            $student_selected: Boolean!\n            $opportunity_type: Boolean!\n            $years: String!\n            $id_degree: DegreeRelationInput!\n            $id_company: CompanyRelationInput!\n            $id_area_position: Area_positionRelationInput!\n          ) {\n            createOpportunity(\n              input: {\n                fields: {\n                  name: $name\n                  position: $position\n                  available_spaces: $available_spaces\n                  type: $type\n                  start_date: $start_date\n                  end_date: $end_date\n                  end_process: $end_process\n                  student_selected: $student_selected\n                  opportunity_type: $opportunity_type\n                  years: $years\n                  id_degree: $id_degree\n                  id_company: $id_company\n                  id_area_position: $id_area_position\n                }\n              }\n            ) {\n              opportunity {\n                id\n              }\n            }\n          }\n        "]))),variables:{name:e,position:n,available_spaces:Number(r),type:a,start_date:i,end_date:s,end_process:u,student_selected:l,opportunity_type:c,years:p.toLocaleString(),id_degree:{add:f},id_company:{add:y},id_area_position:{add:g}}}).pipe((0,_.q)(1),(0,v.K)(function(e,t){return m.errorHandle(e),h.E}))}},{key:"onEditOpportunity",value:function(e,t,r,a,i,s,u,l,c,f,y,g,m,b,k,D,$){var O=this;return this.apollo.mutate({mutation:d.Ps(n||(n=o(["\n          mutation updateOpportunity(\n            $id: ID!\n            $name: String!\n            $position: String!\n            $available_spaces: Float!\n            $type: String!\n            $start_date: Date!\n            $end_date: Date!\n            $end_process: Boolean!\n            $student_selected: Boolean!\n            $opportunity_type: Boolean!\n            $years: String!\n            $id_degree: DegreeRelationInput!\n            $id_company: CompanyRelationInput!\n            $id_area_position: Area_positionRelationInput!\n          ) {\n            updateOpportunity(\n              input: {\n                id: $id\n                fields: {\n                  name: $name\n                  position: $position\n                  available_spaces: $available_spaces\n                  type: $type\n                  start_date: $start_date\n                  end_date: $end_date\n                  end_process: $end_process\n                  student_selected: $student_selected\n                  opportunity_type: $opportunity_type\n                  years: $years\n                  id_degree: $id_degree\n                  id_company: $id_company\n                  id_area_position: $id_area_position\n                }\n              }\n            ) {\n              opportunity {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e,name:t,position:r,available_spaces:Number(a),type:i,start_date:s,end_date:u,end_process:l,student_selected:c,opportunity_type:f,years:y.toLocaleString(),id_company:{remove:k,add:m},id_degree:{remove:D,add:g},id_area_position:{remove:$,add:b}}}).pipe((0,_.q)(1),(0,p.b)(function(e){window.location.reload()}),(0,v.K)(function(e,t){return O.errorHandle(e),h.E}))}},{key:"onDeleteOpportunity",value:function(e){var t=this;return this.apollo.mutate({mutation:d.Ps(r||(r=o(["\n          mutation deleteOpportunity($id: ID!) {\n            deleteOpportunity(input: { id: $id }) {\n              opportunity {\n                id\n              }\n            }\n          }\n        "]))),variables:{id:e}}).pipe((0,_.q)(1),(0,v.K)(function(e,n){return t.errorHandle(e),h.E}))}},{key:"onSuccessDialog",value:function(e){this._fuseConfirmationService.open({title:"Alerta",message:"Se ".concat(e," el registro correctamente."),icon:{show:!0,name:"heroicons_outline:badge-check",color:"success"},actions:{confirm:{show:!1,label:"Si",color:"primary"},cancel:{show:!1,label:"No"}},dismissible:!0})}},{key:"errorHandle",value:function(e){return this._fuseConfirmationService.open({title:"Error",message:"Error insperado!!!",icon:{show:!0,name:"heroicons_outline:exclamation",color:"error"},actions:{confirm:{show:!1,label:"string",color:"primary"},cancel:{show:!1,label:"string"}},dismissible:!0}),(0,y._)("error")}}]),i}()).\u0275fac=function(e){return new(e||c)(g.LFG(d._M),g.LFG(m.P),g.LFG(b.R))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c)}}])}();